<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Chessground Demo</title>

    <link rel="stylesheet" type="text/css" href="assets/chessground.base.css" />
    <link rel="stylesheet" type="text/css" href="assets/chessground.brown.css" />
    <link rel="stylesheet" type="text/css" href="assets/chessground.cburnett.css" />
    <style>
      body {
        display: flex;
        flex-wrap: wrap;
      }

      body > div {
        margin: 10px;
      }

      .chessground {
        width: 500px;
        height: 500px;
      }

      .selected-pocket {
        background-color: rgba(20, 85, 30, 0.5);
      }

      #pocket {
        display: flex;
        flex-direction: row;
      }

      cg-board {
        background-color: #bfcfdd;
      }
    </style>

    <script type="module">
      import { Chessground } from './dist/chessground.js';
      import { setDropMode } from './dist/drop.js';

      Chessground(document.getElementById('board-1'), {});
      Chessground(document.getElementById('board-2'), {
        fen: 'r2q2k1/1p6/p2p4/2pN1rp1/N1Pb2Q1/8/PP1B4/R6K b - - 2 25',
      });
      Chessground(document.getElementById('board-3'), {
        drawable: {
          autoShapes: [
            {
              orig: 'a2',
              dest: 'a6',
              brush: 'green',
              label: { text: 'A' },
              modifiers: {
                hilite: true,
              },
            },
            {
              orig: 'b2',
              dest: 'b6',
              brush: 'blue',
              label: { text: 'B' },
              modifiers: {
                lineWidth: 6,
              },
            },
            {
              orig: 'c2',
              dest: 'c4',
              brush: 'red',
              label: { text: 'C' },
            },
            {
              orig: 'd2',
              dest: 'd3',
              brush: 'green',
              label: { text: 'D' },
            },
            {
              orig: 'f1',
              dest: 'h3',
              brush: 'blue',
              label: { text: 'F' },
            },
            {
              orig: 'g1',
              dest: 'f3',
              brush: 'yellow',
              label: { text: 'E' },
            },
          ],
        },
      });
      const dropBoard = Chessground(document.getElementById('board-4'), {
        draggable: { enabled: true },
        selectable: { enabled: true },
      });
      window.cgState = dropBoard.state;
      ['white', 'black'].forEach(color => {
        ['pawn', 'knight', 'bishop'].forEach(role => {
          const el = document.getElementById(`drop-${color}-${role}`);
          el.addEventListener('mousedown', event => {
            event.preventDefault();
            dropBoard.dragNewPiece({ role, color }, event, false);
          });
        });
      });
    </script>
  </head>
  <body>
    <div>
      basic board, default config
      <div class="chessground" id="board-1"></div>
    </div>
    <div>
      board with a fen
      <div class="chessground" id="board-2"></div>
    </div>
    <div>
      board with fixed arrows + labels
      <div class="chessground" id="board-3"></div>
    </div>
    <div>
      board with droppable pieces
      <div class="chessground" id="board-4"></div>
      <div id="pocket">
        <div id="drop-white-pawn" class="cg-wrap" style="width: 50px; height: 50px">
          <piece style="width: 50px; height: 50px" class="white pawn"></piece>
        </div>
        <div id="drop-white-knight" class="cg-wrap" style="width: 50px; height: 50px">
          <piece style="width: 50px; height: 50px" class="white knight"></piece>
        </div>
        <div id="drop-white-bishop" class="cg-wrap" style="width: 50px; height: 50px">
          <piece style="width: 50px; height: 50px" class="white bishop"></piece>
        </div>
        <div id="drop-black-pawn" class="cg-wrap" style="width: 50px; height: 50px">
          <piece style="width: 50px; height: 50px" class="black pawn"></piece>
        </div>
        <div id="drop-black-knight" class="cg-wrap" style="width: 50px; height: 50px">
          <piece style="width: 50px; height: 50px" class="black knight"></piece>
        </div>
        <div id="drop-black-bishop" class="cg-wrap" style="width: 50px; height: 50px">
          <piece style="width: 50px; height: 50px" class="black bishop"></piece>
        </div>
      </div>
    </div>
  </body>
</html>
